<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.0"></script>
<script>
	window.onload = function(){
		var vm1 = new Vue({
			el : '#test1',
			data : {
				value1 : 100,
				obj1:{},
				counter:0,
				newValue:0,
				oldValue:0
			},
			methods:{
				setValue1 : function(){
					this.value1 = 200
				},
				setValue2 : function(){
					this.obj1.value2 = 2000
				},
				addCounter : function(){
					this.counter++
				}
			}
		})
		//vm1.value2=1000
		Vue.set(vm1.obj1,'value2',1000)
		
		//카운터 변수를 감시시하고 있다가 해당 함수를 실행하게 되고 해당 함수에 새롭게 세팅된 counter값과 기존의 값이 매개변수로 들어오게 된다
		vm1.$watch('counter', function(new_value, old_value){
			this.newValue = new_value
			this.oldValue = old_value
		})
	}
</script>
</head>
<body>
	<div id="test1">
		<h3>value1 : {{value1}}</h3>
		<button type='button' v-on:click='setValue1'>버튼1</button>
		<hr>
		<h3>value2 : {{obj1.value2}}</h3>
		<button type='button' @click='setValue2'>버튼2</button>
		<hr>
		<h3>counter : {{counter}}</h3>
		<h3>newValue : {{newValue}}</h3>
		<h3>oldValue : {{oldValue}}</h3>
		<button type='button' @click='addCounter'>버튼3</button>
	</div>
</body>
</html>